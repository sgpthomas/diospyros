Running egg with timeout 360s, width: 2
Input prog:
(Concat
  (Vec
    (+
      (+
        (* (Get aq 3) (Get bq 0))
        (+ (* (Get aq 0) (Get bq 3)) (* (Get aq 1) (Get bq 2))))
      (neg (* (Get aq 2) (Get bq 1))))
    (+
      (+
        (* (Get aq 3) (Get bq 1))
        (+ (* (Get aq 1) (Get bq 3)) (* (Get aq 2) (Get bq 0))))
      (neg (* (Get aq 0) (Get bq 2)))))
  (Concat
    (Vec
      (+
        (+
          (* (Get aq 3) (Get bq 2))
          (+ (* (Get aq 2) (Get bq 3)) (* (Get aq 0) (Get bq 1))))
        (neg (* (Get aq 1) (Get bq 0))))
      (+
        (* (Get aq 3) (Get bq 3))
        (+
          (neg (* (Get aq 0) (Get bq 0)))
          (+ (neg (* (Get aq 1) (Get bq 1))) (neg (* (Get aq 2) (Get bq 2)))))))
    (Concat
      (Vec
        (+
          (Get at 0)
          (+
            (Get bt 0)
            (+
              (+
                (*
                  (Get aq 1)
                  (* 2 (+ (* (Get aq 0) (Get bt 1)) (neg (* (Get aq 1) (Get bt 0))))))
                (neg
                  (*
                    (Get aq 2)
                    (* 2 (+ (* (Get aq 2) (Get bt 0)) (neg (* (Get aq 0) (Get bt 2))))))))
              (*
                (Get aq 3)
                (* 2 (+ (* (Get aq 1) (Get bt 2)) (neg (* (Get aq 2) (Get bt 1)))))))))
        (+
          (Get at 1)
          (+
            (Get bt 1)
            (+
              (+
                (*
                  (Get aq 2)
                  (* 2 (+ (* (Get aq 1) (Get bt 2)) (neg (* (Get aq 2) (Get bt 1))))))
                (neg
                  (*
                    (Get aq 0)
                    (* 2 (+ (* (Get aq 0) (Get bt 1)) (neg (* (Get aq 1) (Get bt 0))))))))
              (*
                (Get aq 3)
                (* 2 (+ (* (Get aq 2) (Get bt 0)) (neg (* (Get aq 0) (Get bt 2))))))))))
      (Vec
        (+
          (Get at 2)
          (+
            (Get bt 2)
            (+
              (+
                (*
                  (Get aq 0)
                  (* 2 (+ (* (Get aq 2) (Get bt 0)) (neg (* (Get aq 0) (Get bt 2))))))
                (neg
                  (*
                    (Get aq 1)
                    (* 2 (+ (* (Get aq 1) (Get bt 2)) (neg (* (Get aq 2) (Get bt 1))))))))
              (*
                (Get aq 3)
                (* 2 (+ (* (Get aq 0) (Get bt 1)) (neg (* (Get aq 1) (Get bt 0)))))))))
        0))))
Retained 2860 rules
Retained 484 rules
Vec([363, 364])
Vec([363, 364])
Vec([208, 285])
Vec([208, 285])
Vec([96, 130])
Vec([96, 130])
Vec([31, 63])
Vec([31, 63])
p: (Vec
  (+
    ?v3
    (+
      ?v2
      (+
        (+
          (* ?w (* 2 (+ (* ?v1 ?x) (neg (* ?w ?v2)))))
          (neg (* ?y (* 2 (+ (* ?y ?v2) (neg (* ?v1 ?z)))))))
        (* ?v0 (* 2 (+ (* ?w ?z) (neg (* ?y ?x))))))))
  0)
p: (Vec
  (+
    ?v3
    (+
      ?v2
      (+
        (+
          (* ?w (* 2 (+ (* ?v1 ?x) (neg (* ?w ?v2)))))
          (neg (* ?y (* 2 (+ (* ?y ?v2) (neg (* ?v1 ?z)))))))
        (* ?v0 (* 2 (+ (* ?w ?z) (neg (* ?y ?x))))))))
  0)
p: (Vec
  (+
    ?v4
    (+
      ?z
      (+
        (+
          (* ?v1 (* 2 (+ (* ?y ?v2) (neg (* ?v1 ?z)))))
          (neg (* ?w (* 2 (+ (* ?w ?z) (neg (* ?y ?x)))))))
        (* ?v0 (* 2 (+ (* ?v1 ?x) (neg (* ?w ?v2))))))))
  (+
    ?v3
    (+
      ?v2
      (+
        (+
          (* ?w (* 2 (+ (* ?v1 ?x) (neg (* ?w ?v2)))))
          (neg (* ?y (* 2 (+ (* ?y ?v2) (neg (* ?v1 ?z)))))))
        (* ?v0 (* 2 (+ (* ?w ?z) (neg (* ?y ?x)))))))))
p: (Vec
  (+
    ?v4
    (+
      ?z
      (+
        (+
          (* ?v1 (* 2 (+ (* ?y ?v2) (neg (* ?v1 ?z)))))
          (neg (* ?w (* 2 (+ (* ?w ?z) (neg (* ?y ?x)))))))
        (* ?v0 (* 2 (+ (* ?v1 ?x) (neg (* ?w ?v2))))))))
  (+
    ?v3
    (+
      ?v2
      (+
        (+
          (* ?w (* 2 (+ (* ?v1 ?x) (neg (* ?w ?v2)))))
          (neg (* ?y (* 2 (+ (* ?y ?v2) (neg (* ?v1 ?z)))))))
        (* ?v0 (* 2 (+ (* ?w ?z) (neg (* ?y ?x)))))))))
p: (Vec
  (+ (+ (* ?v3 ?x) (+ (* ?y ?v2) (* ?v1 ?z))) (neg (* ?w ?v0)))
  (+ (* ?v3 ?v2) (+ (neg (* ?v1 ?v0)) (+ (neg (* ?w ?z)) (neg (* ?y ?x))))))
p: (Vec
  (+ (+ (* ?v3 ?x) (+ (* ?y ?v2) (* ?v1 ?z))) (neg (* ?w ?v0)))
  (+ (* ?v3 ?v2) (+ (neg (* ?v1 ?v0)) (+ (neg (* ?w ?z)) (neg (* ?y ?x))))))
p: (Vec
  (+ (+ (* ?v3 ?z) (+ (* ?y ?v0) (* ?v1 ?x))) (neg (* ?w ?v2)))
  (+ (+ (* ?v3 ?v2) (+ (* ?v1 ?v0) (* ?w ?z))) (neg (* ?y ?x))))
p: (Vec
  (+ (+ (* ?v3 ?z) (+ (* ?y ?v0) (* ?v1 ?x))) (neg (* ?w ?v2)))
  (+ (+ (* ?v3 ?v2) (+ (* ?v1 ?v0) (* ?w ?z))) (neg (* ?y ?x))))
start:
(Vec
  (+
    ?v3
    (+
      ?v2
      (+
        (+
          (* ?w (* 2 (+ (* ?v1 ?x) (neg (* ?w ?v2)))))
          (neg (* ?y (* 2 (+ (* ?y ?v2) (neg (* ?v1 ?z)))))))
        (* ?v0 (* 2 (+ (* ?w ?z) (neg (* ?y ?x))))))))
  0)
searching from the root: [25.040000000000003]
(VecAdd
  (Vec ?v3 0)
  (VecAdd
    (Vec ?v2 0)
    (VecAdd
      (VecMul
        (VecMul
          (Vec 2 1)
          (VecAdd (VecNeg (VecMul (Vec ?x 0) (Vec ?y ?x))) (VecMul (Vec ?w 1) (Vec ?z 0))))
        (Vec ?v0 1))
      (VecAdd
        (VecMul
          (Vec ?w 0)
          (VecMul
            (Vec 2 ?w)
            (VecAdd
              (VecNeg (VecMul (Vec ?v2 0) (Vec ?w 0)))
              (VecMul (Vec ?x 1) (Vec ?v1 1)))))
        (VecNeg
          (VecMul
            (Vec ?y 1)
            (VecMul
              (Vec 2 0)
              (VecAdd
                (VecMul (Vec ?y ?y) (Vec ?v2 ?v2))
                (VecNeg (VecMul (Vec ?v1 ?v1) (Vec ?z ?z)))))))))))
start:
(Vec
  (+
    ?v3
    (+
      ?v2
      (+
        (+
          (* ?w (* 2 (+ (* ?v1 ?x) (neg (* ?w ?v2)))))
          (neg (* ?y (* 2 (+ (* ?y ?v2) (neg (* ?v1 ?z)))))))
        (* ?v0 (* 2 (+ (* ?w ?z) (neg (* ?y ?x))))))))
  0)
searching from the root: [25.040000000000003]
(VecAdd
  (Vec ?v3 0)
  (VecAdd
    (Vec ?v2 0)
    (VecAdd
      (VecMul
        (VecMul
          (Vec 2 1)
          (VecAdd (VecNeg (VecMul (Vec ?x 0) (Vec ?y ?x))) (VecMul (Vec ?w 1) (Vec ?z 0))))
        (Vec ?v0 1))
      (VecAdd
        (VecMul
          (Vec ?w 0)
          (VecMul
            (Vec 2 ?w)
            (VecAdd
              (VecNeg (VecMul (Vec ?v2 0) (Vec ?w 0)))
              (VecMul (Vec ?x 1) (Vec ?v1 1)))))
        (VecNeg
          (VecMul
            (Vec ?y 1)
            (VecMul
              (Vec 2 0)
              (VecAdd
                (VecMul (Vec ?y ?y) (Vec ?v2 ?v2))
                (VecNeg (VecMul (Vec ?v1 ?v1) (Vec ?z ?z)))))))))))
start:
(Vec
  (+
    ?v4
    (+
      ?z
      (+
        (+
          (* ?v1 (* 2 (+ (* ?y ?v2) (neg (* ?v1 ?z)))))
          (neg (* ?w (* 2 (+ (* ?w ?z) (neg (* ?y ?x)))))))
        (* ?v0 (* 2 (+ (* ?v1 ?x) (neg (* ?w ?v2))))))))
  (+
    ?v3
    (+
      ?v2
      (+
        (+
          (* ?w (* 2 (+ (* ?v1 ?x) (neg (* ?w ?v2)))))
          (neg (* ?y (* 2 (+ (* ?y ?v2) (neg (* ?v1 ?z)))))))
        (* ?v0 (* 2 (+ (* ?w ?z) (neg (* ?y ?x)))))))))
searching from the root: [25.040000000000006]
(VecAdd
  (Vec ?v4 ?v3)
  (VecAdd
    (Vec ?z ?v2)
    (VecAdd
      (VecAdd
        (VecMul
          (Vec ?v1 ?w)
          (VecMul
            (Vec 2 2)
            (VecAdd
              (VecMul (Vec ?y ?v1) (Vec ?v2 ?x))
              (VecNeg (VecMul (Vec ?v1 ?w) (Vec ?z ?v2))))))
        (VecNeg
          (VecMul
            (Vec ?w ?y)
            (VecMul
              (Vec 2 2)
              (VecAdd
                (VecMul (Vec ?w ?y) (Vec ?z ?v2))
                (VecNeg (VecMul (Vec ?y ?v1) (Vec ?x ?z))))))))
      (VecMul
        (Vec ?v0 ?v0)
        (VecMul
          (Vec 2 2)
          (VecAdd
            (VecMul (Vec ?v1 ?w) (Vec ?x ?z))
            (VecNeg (VecMul (Vec ?w ?y) (Vec ?v2 ?x)))))))))
start:
(Vec
  (+
    ?v4
    (+
      ?z
      (+
        (+
          (* ?v1 (* 2 (+ (* ?y ?v2) (neg (* ?v1 ?z)))))
          (neg (* ?w (* 2 (+ (* ?w ?z) (neg (* ?y ?x)))))))
        (* ?v0 (* 2 (+ (* ?v1 ?x) (neg (* ?w ?v2))))))))
  (+
    ?v3
    (+
      ?v2
      (+
        (+
          (* ?w (* 2 (+ (* ?v1 ?x) (neg (* ?w ?v2)))))
          (neg (* ?y (* 2 (+ (* ?y ?v2) (neg (* ?v1 ?z)))))))
        (* ?v0 (* 2 (+ (* ?w ?z) (neg (* ?y ?x)))))))))
searching from the root: [25.040000000000006]
(VecAdd
  (Vec ?v4 ?v3)
  (VecAdd
    (Vec ?z ?v2)
    (VecAdd
      (VecAdd
        (VecMul
          (Vec ?v1 ?w)
          (VecMul
            (Vec 2 2)
            (VecAdd
              (VecMul (Vec ?y ?v1) (Vec ?v2 ?x))
              (VecNeg (VecMul (Vec ?v1 ?w) (Vec ?z ?v2))))))
        (VecNeg
          (VecMul
            (Vec ?w ?y)
            (VecMul
              (Vec 2 2)
              (VecAdd
                (VecMul (Vec ?w ?y) (Vec ?z ?v2))
                (VecNeg (VecMul (Vec ?y ?v1) (Vec ?x ?z))))))))
      (VecMul
        (Vec ?v0 ?v0)
        (VecMul
          (Vec 2 2)
          (VecAdd
            (VecMul (Vec ?v1 ?w) (Vec ?x ?z))
            (VecNeg (VecMul (Vec ?w ?y) (Vec ?v2 ?x)))))))))
start:
(Vec
  (+ (+ (* ?v3 ?x) (+ (* ?y ?v2) (* ?v1 ?z))) (neg (* ?w ?v0)))
  (+ (* ?v3 ?v2) (+ (neg (* ?v1 ?v0)) (+ (neg (* ?w ?z)) (neg (* ?y ?x))))))
searching from the root: [15.224]
(VecAdd
  (VecAdd
    (VecMul (Vec ?v3 ?v3) (Vec ?x ?v2))
    (VecAdd (VecMul (Vec ?v2 1) (Vec ?y 0)) (VecMul (Vec ?z 0) (Vec ?v1 1))))
  (VecAdd
    (VecAdd
      (VecNeg (VecMul (Vec 0 ?x) (Vec 1 ?y)))
      (VecNeg (VecMul (Vec ?w ?w) (Vec ?v0 ?z))))
    (VecNeg (VecMul (Vec 1 ?v1) (Vec 0 ?v0)))))
start:
(Vec
  (+ (+ (* ?v3 ?x) (+ (* ?y ?v2) (* ?v1 ?z))) (neg (* ?w ?v0)))
  (+ (* ?v3 ?v2) (+ (neg (* ?v1 ?v0)) (+ (neg (* ?w ?z)) (neg (* ?y ?x))))))
searching from the root: [15.224]
(VecAdd
  (VecAdd
    (VecMul (Vec ?v3 ?v3) (Vec ?x ?v2))
    (VecAdd (VecMul (Vec ?v2 1) (Vec ?y 0)) (VecMul (Vec ?z 0) (Vec ?v1 1))))
  (VecAdd
    (VecAdd
      (VecNeg (VecMul (Vec 0 ?x) (Vec 1 ?y)))
      (VecNeg (VecMul (Vec ?w ?w) (Vec ?v0 ?z))))
    (VecNeg (VecMul (Vec 1 ?v1) (Vec 0 ?v0)))))
start:
(Vec
  (+ (+ (* ?v3 ?z) (+ (* ?y ?v0) (* ?v1 ?x))) (neg (* ?w ?v2)))
  (+ (+ (* ?v3 ?v2) (+ (* ?v1 ?v0) (* ?w ?z))) (neg (* ?y ?x))))
searching from the root: [8.816]
(VecAdd
  (VecAdd
    (VecMul (Vec ?v3 ?v3) (Vec ?z ?v2))
    (VecAdd (VecMul (Vec ?y ?v1) (Vec ?v0 ?v0)) (VecMul (Vec ?v1 ?w) (Vec ?x ?z))))
  (VecNeg (VecMul (Vec ?w ?y) (Vec ?v2 ?x))))
start:
(Vec
  (+ (+ (* ?v3 ?z) (+ (* ?y ?v0) (* ?v1 ?x))) (neg (* ?w ?v2)))
  (+ (+ (* ?v3 ?v2) (+ (* ?v1 ?v0) (* ?w ?z))) (neg (* ?y ?x))))
searching from the root: [8.816]
(VecAdd
  (VecAdd
    (VecMul (Vec ?v3 ?v3) (Vec ?z ?v2))
    (VecAdd (VecMul (Vec ?y ?v1) (Vec ?v0 ?v0)) (VecMul (Vec ?v1 ?w) (Vec ?x ?z))))
  (VecNeg (VecMul (Vec ?w ?y) (Vec ?v2 ?x))))
Starting run with 8 rules
Egraph size: 209
Runner report
=============
  Stop reason: Saturated
  Iterations: 2
  Egraph size: 209 nodes, 205 classes, 209 memo
  Rebuilds: 0, 0.00 per iter
  Total time: 0.000313811
    Search:  (0.27) 0.00008419800000000001
    Apply:   (0.63) 0.00019835
    Rebuild: (0.10) 0.000030832
Stopped after 2 iterations, reason: Some(Saturated)
==== Starting Second Phase Optimization ====
Using 2860 rules
Improved cost by 12.144000000000013 (74.59800000000001 - 62.454)

Cost: 62.454
